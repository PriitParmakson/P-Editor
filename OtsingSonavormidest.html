<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Otsing sõnavormidest</title>

  <!-- JQuery -->
  <script src="https://code.jquery.com/jquery.min.js"></script>

  <!-- Material Design icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
    crossorigin="anonymous">
  <!-- Tether on vaja tooltip-de jaoks -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" crossorigin="anonymous"></script>

  <!-- Stiilid -->
  <link rel='stylesheet' href='test/SamasTest.css'>

  <!-- Skriptid -->
  <script src='js/Targifunktsioonid.js'></script>
  <script src='js/SamatekstiPrimitiivid.js'></script>
  <script>
    var fr;

    function handleFile(file) {
      fr = new FileReader();
      fr.onload = receivedText;
      fr.readAsText(file);
    }

    function receivedText() {
      var s = fr.result;
      // Asenda reavahetused tühikutega
      s = s.replace(/(?:\r\n|\r|\n)/g, ' ');
      // Löö sõnadeks
      var sonad = s.split(' ');
      for (var i = 0; i < sonad.length; i++) {
        if (sonad[i].length > 2 && samatekst(sonad[i])) {
          $('<p></p>')
            .text(sonad[i])
            .appendTo('#Tulemus');
        }
      }

    }
  </script>

</head>

<body>
  <div class='container-fluid'>
    <div class='row'>
      <div class='col-xs-12 col-sm-10 col-md-8 col-lg-8 col-xl-6'>

        <input type="file" onchange="handleFile(this.files[0])" />

        <div id='Tulemus'></div>

      </div>
    </div>
  </div>

</body>

</html>